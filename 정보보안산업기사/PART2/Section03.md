대칭키 암호
# 현대 대칭키 암호
## 현대 블록 암호
### 현대 블록 암호의 구성요소
확산과 혼돈과 같은 성질을 만족시키기 위하여 전치 요소와 치환 요소 그리고 그 밖의 구성 요소를 결합하여 설계된다. 이동요소, 교환요소, 분할요소, 조합요소, 전치장치, 치환장치, XOR 연산의 조합으로 만들어진다.

### P-박스
문자 단위로 암호화를 수행하였던 고전 전치 암호를 병렬적으로 수행한다. 현대 블록 암호에서는 단순 P-박스, 확장 P-박스, 축소 P-박스라는 세 가지 종류의 P-박스를 볼 수 있다.
- 축소 P-박스 : n비트를 받아 m비트를 출력하는 P-박스로서 n이 m보다 커야한다. 입력 비트 중 특정 비트는 소실되어 출력되지 않는다. 비트를 치환하고 동시에 다음 단계를 위한 비트의 수를 줄이고자 할 때 사용된다.
- 확장 P-박스 : n비트를 받아 m비트를 출력하는 P-박스로서 n이 m보다 작아야한다. 입력 비트중 특정 비트는 한 개 이상의 출력비트와 연결된다. 비트를 치환하고 동시에 다음 단계에서 비트의 양을 증가시키고자 할 때 사용한다.
- 역함수의 존재성 : 단순 P-박스는 역함수가 존재한다. 축소 P-박스와 확장 P-박스는 역함수가 존재하지 않는다.

### S-박스
치환 암호의 축소 모형으로 생각할 수 있다. 하지만 S-박스는 입력과 출력의 개수가 달라도 된다. 다시 말하면 S-박스에서 입력은 n비트 워드이고 출력은 m비트 워드일 때, n과 m이 서로 같을 필요는 없다. 
#### 역함수의 존재성
S-박스는 입력값과 출력값 사이의 관계가 수학적 관계로 정의되는 치환 암호로, 역함수가 존재할 수도 존재하지 않을 수도 있다. 역함수가 존재하는 S-박스는 입력 비트와 출력 비트의 개수가 동일하다.

### 합성 암호(Product Ciphers)
치환, 전치 그리고 그 밖의 구성요소를 결합한 복합적인 암호이다.
- 확산 : 암호문과 평문 사이의 관계를 숨기는 것으로 통계 테스트를 통하여 평문을 찾고자 하는 공격자를 좌절시킨다.
- 혼돈 : 암호문과 키의 관계를 숨기는 것이다. 혼돈은 암호문을 이용하여 키를 찾고자 하는 공격자를 좌절시킨다. 키의 단일 비트가

### 두 가지 종류의 합성 암호
#### Feistel 암호
입력을 좌우 블록으로 분할하여 한 블록을 라운드 함수에 적용시킨 후의 출력 값을 다른 블록에 적용하는 과정을 좌우블록에 대해 반복적으로 시행하는 방식이다. 평문 블록의 길이, 키 K의 길이, 라운드의 수가 암호 강도를 결정짓는다. 복호화는 암호화 과정의 입력 순서와 반대가 된다.
1. 알고리즘의 수행속도 빠름
2. 하드웨어 및 소프트웨어 구현이 용이

#### SPN 구조
여러 개의 함수를 중첩하면 개별 함수로 이루어진 암호보다 안전하다는 샤넌의 이론에 근거하여 Substitution Cipher와 Permutation Cipher를 중첩하는 형태로 개발한 암호이다.

### 블록 암호에 대한 공격
> 차분 분석

선택 평문공격법으로, 두개의 평문 블록들의 비트의 차이에 대하여 대응되는 암호문 블록들의 비트의 차이를 이용하여 사용된 암호키를 찾는 방법이다. 암호문의 변화 형태를 조사하여 해독의 실마리를 얻는 해독방법이다.

> 선형 분석

기지평문 공격의 한 종류로 알고리즘 내부의 비선형 구조를 적당히 선형화시켜 키를 찾는 방법이다. 암호화 과정에서의 근사적 선형 관계식을 찾는 것을 목적으로 한다. 근사 선형 관계성을 찾았다면 이를 통해 기지평문 공격에서 Chosen Plaintext 공격을 수행할 수 있다.

> 전수공격법

가능한 모든 경우에 대하여 조사하는 방법이며, 경우의 수가 적을 때는 가장 정확한 방법이지만, 일반적으로 경우의 수가 많은 경우에는 실현 불가능한 방법이다.

> 통계적 분석

암호문에 대한 평문의 각 단어별 빈도에 관한 자료와 더불어 지금까지 알려진 모든 통계적인 자료를 이용하여 해독하는 방법이다.

> 수학적 분석

통계적인 방법을 포함하며 수학적 이론을 이용하여 해독하는 방법이다.


## 현대 스트림 암호
### 개요
암호화와 복호화는 한 번에 r비트를 생성하여 
#### 스트림 암호 설계 시 고려사항
1. 암호화의 연속은 긴 주기를 가져야 한다.
2. 키 스트림은 진 난수 스트림과 최대한 비슷해야하낟.
3. 전사적 공격에 대응하기 위해서는 키가 충분히 길어야 한다.

### 동기식 스트림 암호
암호문을 복호화하여 평문을 찾을 때 키 스트림과 암호문 사이에 동기가 필요한 동기식 스트림 암호 시스템은 키 스트림이 평문과 관계없이 생성되는 것으로 암호문에 들어있는 키스트림과 암호문의 독립성으로 인하여 인가자 이외의 불법 사용자에게 정보 유출의 가능성이 적다.
> One-Time Pad

암호화를 수행할 때마다 랜덤하게 선택된 키 스트림을 사용한다. 배타적 논리합 연산의 성질에 의해 암호화 알고리즘과 복호화 알고리즘은 서로 역관계이다. 이 암호에서 배타적 논리합 연산을 한 번에 한 비트씩 적용돈다.
>> OTP 안전성을 위한 조건

1. 패드는 한 번만 사용되어야 한다.
2. 패드는 메시지 길이만큼 길어야한다.
3. 패드는 목적지로 안전하게 배포되고 보호되어야한다.
4. 패드는 순수하게 임의값으로 만들어져야한다.

> 귀환 시프트 레지스터(Feedback Shift Register)



> 선형 귀환 시프트 레지스터(LFSR, Linear Feedback Shift Register)





### 비동기식 스트림 암호


# DES(Data Encryption Standard)
## 개요
### 역사

### 개관


## DES의 구조
### 개요
### 라운드 함수
### 암호화 알고리즘과 복호화 알고리즘

## DES 분석
### 설계 기준
### DES의 취약점

## 다중 DES
### 3중 DES

# AES

# 기타 대칭키 암호 알고리즘
## 국제 암호 알고리즘
### IDEA(International Data Encryption Algorithm
DES를 대체하기 위해 스위스 연방기술 기관에서 개발한 알고리즘으로 128비트 키, 64비트 블록 암호로 Feistel 구조를 변형하였다. 8라운드에 걸쳐 데이터를 변환하고 마지막에 한 번 더 키를 작용시켜 64비트 암호문을 생성하기 때문에 보통 8.5라운드라고 말한다. S-Box를 사용하지 않고, 대수적 구조가 서로 다른 연산을 교대로 사용하여 암호학적 강도를 증가시켰다. DES에 비해 안전한 것으로 판단되고 있고, PGP의 데이터 암호 알고리즘으로 채택되어 사용되고 있다.

### RC5
비교적 간단한 연산으로 빠른 암호화와 복호화 기능을 제공하며, 모든 하드웨어에 적합하다. 입출력, 키, 라운드 수가 가변인 블록 알고리즘 RC5는 32/64/128 비트의 블록을 가지며, 속도는 DES의 약 10배이다.

## 국내 암호 알고리즘
### SEED
1999년 한국정보진흥원과 국내 암호전문가들이 함께 개발한 알고리즘으로 중요 정보 및 개인 정보를 보호하기 위한 대칭키 알고리즘이다. 128비트 비밀키에서 생성된 16개의 64비트 라운드 키를 사용하여 총 16회의 라운드를 거쳐 128비트의 평문 블록을 128비트 암호문 블록으로 암호화하여 출력하는 방식이다. SEED의 F함수는 수정된 64비트 Feistel 형태로 구성된다.

### ARIA(Academy Research Institute Agency)
전자정부 구현 등으로 다양한 환경에 적합한 암호화 알고리즘이 필요하게 됨에 따라국가보안기술연구소 주도로 개발한 암호화 알고리즘이다. ISPN 구조의 128비트 블록암호를 128/192/256 비트의 3종류의 키 사용을 제공하며 키의 길이에 따라 구분된다.

### HIGHT(HIGh security and light weigHT)
저전력, 경량화를 요구하는 컴퓨팅 환경에서 기밀성을 제공하기 위해 개발한 64bit 블록 암호이다.

### LEA(Light Encryption Algorithm)
128bit 경량 고속 블록 암호 알고리즘이다. AES보다 1.5~2배는 빠르다. 대용량 데이터를 빠르게 처리하거나, 스마트폰,IoT 등 저전력 암호화에 널리 쓰일 수 있다.

# 현대 대칭키 암호를 이용한 암호화 기법
## 블록 암호의 사용 방식
### 개요
블록 암호는 고정된 n비트 블록을 n비트 블록으로 변환시키는 함수이다. 임의 길이의 평문 암호화시키기 위해서는 평문을 특정한 길이로 분할하여 블록 암호에 입력시켜야한다. 즉 블록 암호를 이용하여 평문을 암호화할 때에는 단순히 암호 알고리즘만이 있으면 해결도는 것이 아니고 사용방식도 규정하여야 한다.

### ECB 모드 (Electronic CodeBook Mode)
운영모드 중 가장 간단한 모드로 평문 N개의 n비트 블록으로 분할된다. 평문 길이가 블록 크기의 배수가 아니라면 평문의 마지막 블록에는 다른 블록들과 동일한 크기로 만들기 위해서 덧붙이기가 필요하다. 각각의 블록을 암호화 혹은 복호화하기 위하여 사용되는 키는 동일하다. 

### CBC 모드(Cipher Block Chaning Mode)

### CFB 모드(Cipher Feedback Mode)

### OFB 모드(Output FeedBack Mode)

### CTR 모드(CounTeR Mode)

